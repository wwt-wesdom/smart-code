(function(){"use strict";var t={4291:function(t,e){const i=375,s="/dist/src/marketing/index.html#/index",a=[{title:"图片",type:"1",icon:"icona-bianzu19"},{title:"文本",type:"2",icon:"icona-wenzi_text43x"},{title:"富文本",type:"16",icon:"icona-bianzu8"},{title:"按钮",type:"3",icon:"iconqiehuananniu_switch-button"},{title:"透明按钮",type:"15",icon:"icona-bianzu22"},{title:"底部悬浮",type:"4",icon:"icona-bianzu23"},{title:"锚点",type:"5",icon:"icona-huabanbeifen6"}],o=[{title:"基金理财",type:"17",icon:"icona-huabanbeifen7"}],n=[{label:"文本",value:"text"},{label:"手机号",value:"phone"},{label:"时间",value:"time"},{label:"多选",value:"multiple "},{label:"单选",value:"single"}],l=[{id:m(),active:!0,list:[{id:m(),selected:!1,type:"0",title:"页面",pageTitle:"页面1",bgType:"bgColor",bgColor:"",bgImg:""}]}],r=[12,14,16,20,22,24,26,30,32,34,36,38,40],c={0:"setPage",1:"setImg",2:"setText",3:"setBtn",4:"setBottomBtn",5:"setAnchorPoint",6:"setVideo",7:"setAudio",8:"setForm",9:"setImageCarousel",10:"setMarquee",11:"setService",12:"setDynamicNumber",13:"setCountDown",14:"setPanel",16:"setRichText",17:"setFundManagement"},d={1:"cImg",2:"cText",3:"cBtn",4:"cBottomBtn",5:"cAnchorPoint",6:"cVideo",7:"cAudio",8:"cForm",9:"cImageCarousel",10:"cMarquee",11:"cService",12:"cDynamicNumber",13:"cCountDown",14:"cPanel",15:"cTransparentBtn",16:"cRichText",17:"cFundManagement"};function m(){let t=Date.now()+(1e6*Math.random()).toFixed(2);return"market_"+t}function p(){return{id:m(),show:!0,event:"link",eventType:"click",conditions:"",link:"",imgPopLink:"",page:"",protocol:"",textPopTitle:"",textPopContent:"",popTitle:"",popContent:"",btnNum:"0",imgUrl:"",service:"phone",serviceNum:"",point:""}}function h(){return{alignment:"left",selected:!1,moving:!1,top:0,left:0,sortTop:0,sortLeft:0,rTop:0,rLeft:0,rRight:0,rBottom:0,lockAspectRatio:!1,positionType:"1",layoutType:"1",zIndex:0,zIndexType:""}}function u(t){let e={};switch(t){case"1":e=Object.assign({},{id:m(),title:"图片",type:"1",src:"",width:375,height:200,eventParams:p(),click:!0},h());break;case"2":e=Object.assign({},{id:m(),title:"文本",type:"2",text:"请输入文字",color:"#333",fontSize:16,bgType:"bgColor",bgImg:"",bgColor:"#fff",width:180,height:46,eventParams:p(),click:!0},h());break;case"16":e=Object.assign({},{id:m(),title:"富文本",type:"16",text:"请输入",bgType:"bgColor",bgImg:"",bgColor:"#fff",width:180,height:46,eventParams:p(),click:!0},h());break;case"3":e=Object.assign({},{id:m(),title:"按钮",type:"3",text:"按钮",btnType:"1",color:"#ffffff",fontSize:16,bgColor:"#f91d1d",radius:23,width:345,height:46,bgImg:"",eventParams:p(),click:!0},h());break;case"15":e=Object.assign({},{id:m(),title:"透明按钮",type:"15",text:"透明按钮",width:200,height:46,eventParams:p(),click:!0},h());break;case"4":e=Object.assign({},{id:m(),title:"底部悬浮",type:"4",text:"底部悬浮",btnType:"1",color:"#fff",fontSize:16,bgColor:"#F91D1D",radius:0,width:i,height:64,bgImg:"",eventParams:p(),click:!0,firstScreenShow:!0},h());break;case"5":e=Object.assign({},{id:m(),title:"锚点",name:"锚点",width:i,height:45,type:"5",click:!1},h());break;case"6":e=Object.assign({},{id:m(),title:"视频",type:"6",url:"//1256993030.vod2.myqcloud.com/d520582dvodtransgzp1256993030/7732bd367447398157015849771/v.f30.mp4",poster:"",width:"296px",height:"",click:!1},h());break;case"7":e=Object.assign({},{id:m(),title:"音频",type:"7",url:"https://www.w3school.com.cn/i/horse.ogg",width:"296px",height:"50px",click:!1},h());break;case"8":e=Object.assign({},{id:m(),title:"表单",type:"8",fieldList:[{title:"",type:"文本",value:"",checkBoxValue:[],placeholder:"请输入提示文字",options:[{value:"1"}]}],btnType:"fillet",borderColor:"#006EFF",textColor:"",inputHeight:"30",btnName:"按钮",btnBgColor:"#006EFF",btnTextColor:"#fff",btnHeight:"40",bgType:"bgColor",bgColor:"",bgImg:"",width:"296px",eventParams:p(),click:!0},h());break;case"9":e=Object.assign({},{id:m(),title:"图片轮播",type:"9",interval:2,urlList:[],width:"296px",eventParamsList:[],bgType:"bgColor",bgImg:"",bgColor:"",click:!0},h());break;case"10":e=Object.assign({},{id:m(),title:"跑马灯",type:"10",direction:"row",textList:[{text:"请输入你要轮播的内容"}],height:"50px",width:"296px",color:"",fontSize:"12px",bgType:"bgColor",bgColor:"",bgImg:"",eventParams:p(),click:!0},h());break;case"11":e=Object.assign({},{id:m(),title:"咨询客服",type:"11",btnType:"fillet",height:"50px",width:"296px",phone:"",color:"#fff",fontSize:"12px",bgType:"bgColor",bgColor:"#006EFF",bgImg:"",click:!1},h());break;case"12":e=Object.assign({},{id:m(),title:"动态数字",type:"12",text:"已有0人参加活动",currNum:0,begin:10,end:1e3,time:1,number:100,direction:"increase",height:"50px",width:"296px",numColor:"#F5DA0C",textColor:"",numFontSize:"12px",textFontSize:"12px",bgType:"bgColor",bgColor:"",bgImg:"",click:!1},h());break;case"13":e=Object.assign({},{id:m(),title:"倒计时",type:"13",time:"",timeFormat:["天","时","分","秒"],height:"50px",width:"296px",numColor:"",unitColor:"",numFontSize:"12px",unitFontSize:"12px",bgType:"bgColor",bgColor:"",numBgColor:"",bgImg:"",click:!1},h());break;case"14":e=Object.assign({},{id:m(),title:"折叠面板",type:"14",show:!0,btnType:"text",arrowColor:"",titleText:"请输入文字",contentText:"请输入文字",titleImg:"",contentImg:"",click:!1},h());break;case"17":e=Object.assign({},{id:m(),title:"基金理财",type:"17",cardType:"1",productId:"",productName:"基金产品名称",subtitle:"副标题",label:[{name:"标签",color:"#F91D1D"}],showValue:"",showValueKey:"",incomeFontSize:32,width:i-30,height:274,bgType:"bgColor",bgImg:"",bgColor:"#fff",productTypes:[],btnStyle:{text:"立即查看",inner:!0,btnType:"1",color:"#ffffff",fontSize:12,bgColor:"#F91D1D",radius:21,width:289,height:42,bgImg:""},eventParams:p(),click:!0},h());break}return e}function g(t,e="YYYY-MM-DD HH:mm:ss"){return""}function f(t){let e,i,s=String(t),a=s.length;return a>=7?(e=s.slice(-a,-7),i=s.slice(-3),s=e+"****"+i):a<7&&a>=6&&(e=s.slice(-a,-4),i=s.slice(-2),s=e+"**"+i),s}function b(t){return JSON.stringify(t)}function v(t,e){return t.sort(((t,i)=>t[e]-i[e])),t}function y(t){return t?Number(t):0}const x=[[{header:1}],[{header:2}],["bold"],["italic"],["underline"],["strike"],[{color:[]}],[{background:[]}],[{list:"ordered"}],[{list:"bullet"}],[{align:"left"},{align:"center"},{align:"right"},{align:"justify"}]];function I(t){return t?t.indexOf("http")>=0||0===t.indexOf("/tzt-managesystem")?t:"/tzt-managesystem"+t:""}const w=[{label:"启用",value:0},{label:"禁用",value:1}];e["default"]={pageWidth:i,link:s,basicComp:a,complexComp:o,fieldOptions:n,defaultPageViewList:l,fontSizeOptions:r,componentSetNameMap:c,componentCNameMap:d,getUuid:m,getComponent:u,getEventParams:p,formatDate:g,resetPhone:f,customToolbar:x,formatImgUrl:I,stringifyData:b,sortList:v,getNum:y,enableStatusOptions:w}},3695:function(t,e,i){var s=i(696),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},o=[],n={name:"App"},l=n,r=i(5710),c=(0,r.Z)(l,a,o,!1,null,null,null),d=c.exports,m=i(6770),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"edit-activity-common"},[i("div",{staticStyle:{margin:"30px"}},[i("div",{staticClass:"content"},[i("left",{on:{handleDrag:t.handleDrag}}),i("div",{staticClass:"c-center"},[i("div",{staticClass:"view-page"},[i("div",{staticClass:"view-page-center my-container"},[i("span",{staticClass:"size-width"},[t._v("宽度：375px")]),i("span",{staticClass:"size-height"},[t._v("高度：667px")]),t.editItem&&t.editItem.moving&&"4"!==t.editItem.type?[i("div",{staticClass:"position-info",style:t.getPositionStyle},[i("div",[t._v("X："+t._s(t.editItem.left))]),i("div",[t._v("Y："+t._s(t.editItem.top))]),i("div",[t._v("宽："+t._s(t.editItem.width))]),i("div",[t._v("高："+t._s(t.editItem.height))])])]:t._e(),[i("div",{staticClass:"undo-box"},[i("span",{staticClass:"icona-huabanbeifen16 fz16 iconfont",class:[t.history.canUndo?"c888":"cl-eee"],on:{click:function(e){return t.execute("undo")}}}),i("span",{staticClass:"icona-huabanbeifen15 fz16 iconfont",class:[t.history.canRedo?"c888":"cl-eee"],on:{click:function(e){return t.execute("redo")}}}),i("span",{staticClass:"icona-66666 fz16 iconfont",class:[t.showDelete?"c888":"cl-eee"],on:{click:t.deleteItem}})])],i("div",{staticClass:"view-page-center-title",class:t.pageTitleStyle,on:{click:function(e){return t.selectComp(t.activePageView.list[0])}}},[i("span",{staticClass:"fz18 c333 fontB view-page-center-title-text"},[t._v(" "+t._s(t.activePageView.list[0].pageTitle)+" ")])]),i("div",{staticClass:"clear-scroll scroll-box",attrs:{id:"components-father-box"}},[i("div",{staticClass:"clear-scroll background-cover",staticStyle:{height:"10000px",position:"relative","overflow-y":"scroll"},style:t.pageStyle,attrs:{id:"dropBox"},on:{dragenter:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()},drop:t.drop}},t._l(t.dragAbleList,(function(e,s){return i("shape",{key:e.id,staticClass:"activeCompInteract",staticStyle:{position:"absolute"},attrs:{"data-index":s,id:e.id,compStyle:e},nativeOn:{mousedown:function(i){return t.selectComp(e)}}},[i(t.getComponentName(e),{tag:"component",staticStyle:{"pointer-events":"none"},attrs:{item:e}})],1)})),1)]),t.bottomBtnList.length>0?i("div",{staticStyle:{position:"absolute",bottom:"0",left:"0",right:"0",height:"100px",overflow:"hidden"}},t._l(t.bottomBtnList,(function(e,s){return i("shape",{key:e.id,staticClass:"activeBottomCompInteract",staticStyle:{position:"absolute",bottom:"0"},attrs:{"data-index":s,id:e.id,compStyle:e},nativeOn:{mousedown:function(i){return t.selectComp(e)}}},[i("c-bottom-btn",{staticStyle:{"pointer-events":"none"},attrs:{item:e}})],1)})),1):t._e()],2)]),i("div",{staticClass:"add-page-view fs-12"},[t._l(t.pageViewList,(function(e,s){return i("div",{staticClass:"add-page-view-item",class:[e.active?"active":""],on:{click:function(e){return t.selectPageView(s)}}},[t._v(t._s(e.list[0].pageTitle)+" ")])})),i("span",{staticClass:"add-page-view-item add",on:{click:t.addPageView}},[i("i",{staticClass:"tzt-icon-plus"})])],2)]),i("right",{ref:"compRight",staticClass:"bgfff",attrs:{editItem:t.editItem,activityId:t.leafletId}})],1),i("div",{staticClass:"pb30"},[i("el-button",{attrs:{loading:t.saveLoading,type:"primary"},on:{click:function(e){return t.save(0)}}},[t._v("保存")]),i("el-button",{on:{click:function(e){t.activeStep=1}}},[t._v("上一步")]),i("el-button",{attrs:{loading:t.previewLoading},on:{click:t.preview}},[t._v("预览")])],1),i("el-dialog",{attrs:{title:"系统提示",visible:t.goBackPop,"before-close":t.closeGoBackPop,"close-on-click-modal":!1,width:"25%"},on:{"update:visible":function(e){t.goBackPop=e}}},[i("div",{staticClass:"c-flex align-items-center"},[i("i",{staticClass:"tzt-icon-warning",staticStyle:{"font-size":"36px",color:"#f7ba2a"}}),i("span",{staticClass:"ml-10"},[t._v("您有更改尚未保存，是否确认离开？")])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.next()}}},[t._v("确 定")]),i("el-button",{on:{click:t.closeGoBackPop}},[t._v("取 消")])],1)])],1)])},h=[];class u{constructor(t=1e3){this.maxSnapshots=t,this.snapshots=[],this.cursor=-1}get canUndo(){return this.cursor>0}get canClear(){return this.snapshots.length}get canRedo(){return this.snapshots.length>this.cursor+1}record(t){while(this.cursor<this.snapshots.length-1)this.snapshots.pop();this.snapshots.push(t),this.snapshots.length>this.maxSnapshots&&this.snapshots.shift(),this.cursor=this.snapshots.length-1}undo(){return this.canUndo?(this.cursor-=1,this.snapshots[this.cursor]):null}redo(){return this.canRedo?(this.cursor+=1,this.snapshots[this.cursor]):null}move(t){if(this.snapshots.length>t)return this.cursor=t,this.snapshots[this.cursor]}clear(){this.cursor=-1,this.snapshots=[]}}var g=i(4291),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},b=[],v={name:"index",data(){return{}},props:{item:{require:!0,type:Object,default:function(){return{}}}},methods:{getBgImg(t){return t?"url("+t+")":""},border(t){return"1px dashed"+t},getBtnStyle(t){let e={height:"100%",width:"100%"};t.inner&&(e={height:t.height+"px",width:t.width+"px"});let i={fontSize:t.fontSize+"px",color:t.color},s={backgroundColor:t.bgColor,borderRadius:t.radius+"px"},a={backgroundImage:this.getBgImg(t.bgImg)};return"1"===t.btnType?{...e,...i,...s}:"2"===t.btnType?{...e,...i}:"3"===t.btnType?{...e,...a}:void 0}}},y=v,x=(0,r.Z)(y,f,b,!1,null,"bf8556ec",null),I=x.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},C=[],k=i(9400),S=i.n(k);const{pageWidth:_,stringifyData:T,sortList:P}=g["default"];var L={name:"compPositionMixin",data(){return{}},computed:{},methods:{stringifyData:T,sortList:P,initInteract(){const t=this;function e(e){e.target;let i=(t.editItem.left||0)+e.dx||0,s=(t.editItem.top||0)+e.dy||0;t.editItem.left=Number(Number(i).toFixed(0)),t.editItem.top=Number(Number(s).toFixed(0)),t.editItem.layoutType="",t.setCompMoved(),t.getRelativePosition()}S()(".activeCompInteract").resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},square:!0,preserveAspectRatio:!0,listeners:{move(e){t.handleEleMove(e)},end(){t.handleEleMoveEnd()}},modifiers:[S().modifiers.restrictEdges({outer:"parent"}),S().modifiers.restrictSize({min:{width:50,height:45}})],inertia:!0}).draggable({inertia:!0,modifiers:[S().modifiers.restrictRect({restriction:"parent",endOnly:!0}),S().modifiers.snapSize({targets:[S().snappers.grid({x:4,y:4})]})],autoScroll:!0,listeners:{move:e,end(e){t.adsorptionPosition(),t.editItem.moving=!1}}}),window.dragMoveListener=e},initBottomInteract(){const t=this;function e(e){e.target;let i=(t.editItem.left||0)+e.dx||0;t.editItem.left=Number(i.toFixed(0)),t.editItem.layoutType="",t.setCompMoved(),t.getRelativePosition()}S()(".activeBottomCompInteract").resizable({edges:{left:!0,right:!0,bottom:!1,top:!0},square:!0,preserveAspectRatio:!0,listeners:{move(e){t.handleEleMove(e)},end(){t.handleEleMoveEnd()}},modifiers:[S().modifiers.restrictEdges({outer:"parent"}),S().modifiers.restrictSize({min:{width:50,height:45}})],inertia:!0}).draggable({inertia:!0,modifiers:[S().modifiers.restrictRect({restriction:"parent",endOnly:!0}),S().modifiers.snapSize({targets:[S().snappers.grid({x:1,y:1})]})],autoScroll:!0,listeners:{move:e,end(e){t.adsorptionPosition(),t.editItem.moving=!1}}}),window.dragMoveListener=e},handleEleMove(t){if("17"===this.editItem.type)return;let e=this.editItem.left||0,i=this.editItem.top||0,s=t.rect.width.toFixed(0),a=t.rect.height.toFixed(0);if(this.editItem.lockAspectRatio){let{left:o,top:n,right:l,bottom:r}=t.edges,c=Number((this.editItem.width/this.editItem.height).toFixed(3));o&&n&&!l&&!r||!o&&!n&&l&&!r?(e+=t.deltaRect.left,i+=Number((t.deltaRect.left/c).toFixed(0)),this.editItem.width=1*s,this.editItem.height=Number((s/c).toFixed(0))):!o&&n&&l&&!r?(e=null,i+=t.deltaRect.top,this.editItem.height=1*a,this.editItem.width=Number((a*c).toFixed(0))):o&&!n&&!l&&r?(e+=t.deltaRect.left,i=null,this.editItem.width=1*s,this.editItem.height=Number((s/c).toFixed(0))):!o&&!n&&l&&r||!o&&!n&&!l&&r?(e+=Number((t.deltaRect.top*c).toFixed(0)),i+=t.deltaRect.top,this.editItem.height=1*a,this.editItem.width=Number((a*c).toFixed(0))):o||!n||l||r?!o||n||l||r||(e+=t.deltaRect.left,i=null,this.editItem.width=1*s,this.editItem.height=Number((s/c).toFixed(0))):(e=null,i+=t.deltaRect.top,this.editItem.height=1*a,this.editItem.width=Number((a*c).toFixed(0)))}else e+=t.deltaRect.left,i+=t.deltaRect.top,this.editItem.width=1*s,this.editItem.height=1*a;this.setRatioLeftTop(e,i),this.getRelativePosition()},setRatioLeftTop(t,e){t&&(this.editItem.left=Number(Number(t).toFixed(0))),e&&(this.editItem.top=Number(Number(e).toFixed(0)))},handleEleMoveEnd(){if(this.editItem.lockAspectRatio){let t=Number((this.editItem.width/this.editItem.height).toFixed(2));this.editItem.width>_&&(this.editItem.width=_-this.editItem.left,this.editItem.height=Number((this.editItem.width/t).toFixed(0)))}},getRelativePosition(){if(!this.editItem)return;this.editItem.sortTop=this.editItem.top+this.editItem.height,this.editItem.sortLeft=this.editItem.left+this.editItem.width;let t=[...this.source];this.getRelativeLeft(t),this.getRelativeTop(t),this.getRelativeRight(t),this.getRelativeBottom(t)},getRelativeLeft(t){t=this.sortList(t,"sortLeft");let e=t.findIndex((t=>t.id===this.editItem.id)),i=t[e];if(0!==e)while(e>=0){let s=t[e-1]||{},a=i.left-(s.left+s.width),o=0;if(o=i.top<=s.top?Math.abs(i.top-s.top)-i.height:Math.abs(i.top-s.top)-s.height,!(o>=0||a<0)){i.rLeft=0===e?i.left:i.left-s.left-s.width;break}e--}else i.rLeft=i.left},getRelativeTop(t){t=this.sortList(t,"sortTop");let e=t.findIndex((t=>t.id===this.editItem.id)),i=t[e];if(0!==e)while(e>=0){let s=t[e-1]||{},a=i.top-(s.top+s.height),o=0;if(o=i.left<=s.left?Math.abs(i.left-s.left)-i.width:Math.abs(i.left-s.left)-s.width,!(o>=0||a<0)){i.rTop=0===e?i.top:i.top-s.top-s.height;break}e--}else i.rTop=i.top},getRelativeRight(t){t=this.sortList(t,"sortLeft");let e=t.findIndex((t=>t.id===this.editItem.id)),i=t[e];if(e!==t.length-1)while(e<=t.length-1){let s=t[e+1]||{},a=s.left-(i.left+i.width),o=0;if(o=i.top<=s.top?Math.abs(i.top-s.top)-i.height:Math.abs(i.top-s.top)-s.height,!(o>=0||a<0)){e===t.length-1?i.rRight=_-Number(i.left)-i.width:i.rRight=a;break}e++}else i.rRight=_-Number(i.left)-i.width},getRelativeBottom(t){t=this.sortList(t,"sortTop");let e=t.findIndex((t=>t.id===this.editItem.id)),i=t[e];if(e!==t.length-1)while(e<=t.length-1){let s=t[e+1]||{},a=s.top-(i.top+i.height),o=0;if(o=i.left<=s.left?Math.abs(i.left-s.left)-i.width:Math.abs(i.left-s.left)-s.width,!(o>=0||a<0)){e===t.length-1?i.rBottom=-1:i.rBottom=a;break}e++}else i.rBottom=-1},adsorptionPosition(t=8,e=8,i=8,s=8){this.editItem.rTop<=e&&0!==this.editItem.rTop&&(this.editItem.top=this.editItem.top-this.editItem.rTop),this.editItem.rLeft<=t&&0!==this.editItem.rLeft&&(this.editItem.left=this.editItem.left-this.editItem.rLeft),this.editItem.rRight<=i&&0!==this.editItem.rRight&&(this.editItem.left=this.editItem.left+this.editItem.rRight),this.editItem.rBottom<=s&&-1!==this.editItem.rBottom&&(this.editItem.top=this.editItem.top+this.editItem.rBottom),this.getRelativePosition()},setCompMoved(){this.pageViewList.forEach((t=>{t.list.forEach((t=>t.moving=!1))})),this.editItem.moving=!0},handelKeyDown(t,e){if(!this.editItem)return;let i=this.editItem;switch(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t)&&e.preventDefault(),t){case"ArrowRight":i.left+i.width<_&&i.left++;break;case"ArrowLeft":i.left>0&&i.left--;break;case"ArrowUp":i.top>0&&i.top--;break;case"ArrowDown":i.top++;break}this.getRelativePosition()}}},$=L,z=(0,r.Z)($,w,C,!1,null,"737d5dec",null),F=z.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left bgfff"},[i("div",{staticClass:"comp-title",on:{click:function(e){t.basicCompShow=!t.basicCompShow}}},[i("i",{staticClass:"tzt-icon-arrow-down arrow cl-888",class:[t.basicCompShow?"":"active"]}),i("span",[t._v("基础组件")])]),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.basicCompShow,expression:"basicCompShow"}],staticClass:"basic-comp"},t._l(t.basicComp,(function(e){return i("div",{key:e.title,staticClass:"comp-item",attrs:{draggable:"true","data-item":JSON.stringify(e)},on:{dragstart:t.dragstart}},[i("span",{staticClass:"iconfont fz26",class:e.icon,attrs:{draggable:"false"}}),i("p",{staticClass:"center mt8"},[t._v(t._s(e.title))])])})),0)])],1)},N=[],B={name:"left",data(){return{basicCompShow:!0,complexCompShow:!0,basicComp:g["default"].basicComp,complexComp:g["default"].complexComp}},created(){},mounted(){},computed:{},methods:{dragstart(t){const e=JSON.parse(t.target.getAttribute("data-item")).type;this.$emit("handleDrag",e)}}},R=B,E=(0,r.Z)(R,O,N,!1,null,"73e23df5",null),A=E.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right clear-scroll"},[i("div",{staticClass:"nav-box"},[i("span",{staticClass:"nav-item",class:["1"===t.activeIndex?"nav-item-active":""],on:{click:function(e){return t.handleNavSelect("1")}}},[t._v(t._s(t.editItem&&t.editItem.title||"样式")+"属性")]),i("span",{staticClass:"nav-item ml-10",class:["2"===t.activeIndex?"nav-item-active":""],style:{color:t.tabbarColor},on:{click:function(e){return t.handleNavSelect("2")}}},[t._v("点击事件")])]),i("div",{staticClass:"comp-attributes"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.activeIndex,expression:"activeIndex === '1'"}]},[t.editItem?i("div",{staticClass:"fs-12"},[i(t.componentSetName,{key:t.editItem.id,tag:"component",model:{value:t.editItem,callback:function(e){t.editItem=e},expression:"editItem"}}),"0"!==t.editItem.type?i("basic-settings",{on:{layoutTypeChange:t.layoutTypeChange,zIndexTypeChange:t.zIndexTypeChange},model:{value:t.editItem,callback:function(e){t.editItem=e},expression:"editItem"}}):t._e()],1):i("div",{staticClass:"empty-comp"},[t._v("请选择组件")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.activeIndex,expression:"activeIndex === '2'"}]},[t.editItem?i("div",[i("event",{attrs:{compTitle:t.editItem.title,activityId:t.activityId},model:{value:t.editItem.eventParams,callback:function(e){t.$set(t.editItem,"eventParams",e)},expression:"editItem.eventParams"}})],1):i("div",{staticClass:"empty-comp"},[t._v("请选择组件")])])])])},D=[],j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("el-radio",{attrs:{label:"bgColor"},model:{value:t.editItem.bgType,callback:function(e){t.$set(t.editItem,"bgType",e)},expression:"editItem.bgType"}},[t._v("颜色背景")]),i("el-radio",{attrs:{label:"bgImg"},model:{value:t.editItem.bgType,callback:function(e){t.$set(t.editItem,"bgType",e)},expression:"editItem.bgType"}},[t._v("图片背景")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"bgColor"===t.editItem.bgType,expression:"editItem.bgType === 'bgColor'"}],staticStyle:{height:"30px"}},[i("color-picker",{on:{change:t.colorPickerChange},model:{value:t.editItem.bgColor,callback:function(e){t.$set(t.editItem,"bgColor",e)},expression:"editItem.bgColor"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"bgImg"===t.editItem.bgType,expression:"editItem.bgType === 'bgImg'"}],staticClass:"upload-img"},[i("upload-img",{attrs:{limitSize:"100",height:"104px",width:"104px"},on:{change:t.singleUploadChange},model:{value:t.editItem.bgImg,callback:function(e){t.$set(t.editItem,"bgImg",e)},expression:"editItem.bgImg"}}),i("div",{staticClass:"cl-888 fs-12 lh12 mt12"},[t._v("图片大小不超过100kb")])],1)])},M=[];const q=i(379),Z=i(5034);var U={name:"backgroundSet",data(){return{editItem:this.value}},components:{uploadImg:q,colorPicker:Z},props:{value:{type:Object,require:!0,default:{}}},computed:{},methods:{singleUploadChange(t){this.$set(this.editItem,"bgColor","")},colorPickerChange(t){this.$set(this.editItem,"bgImg","")}},mounted(){}},H=U,W=(0,r.Z)(H,j,M,!1,null,"70bc91c5",null),J=W.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("el-select",{attrs:{width:"210px"},model:{value:t.eventParams.event,callback:function(e){t.$set(t.eventParams,"event",e)},expression:"eventParams.event"}},t._l(t.eventOptions,(function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})})),1),i("event-item",{model:{value:t.eventParams,callback:function(e){t.eventParams=e},expression:"eventParams"}})],1)},G=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pb20"},[i("span",{staticClass:"set-comp-title"},[t._v("事件类型")])])}],K=i(379),X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"event-item-content",style:{padding:t.eventParams.event?"12px":0}},["link"===t.eventParams.event?[i("el-input",{attrs:{maxlength:"2000",width:"225px",placeholder:"请输入链接以http或https开头"},model:{value:t.eventParams.link,callback:function(e){t.$set(t.eventParams,"link",e)},expression:"eventParams.link"}}),i("span",{staticClass:"c888 fz12 ml10"},[t._v(t._s(t.eventParams.link.length||0)+"/2000")])]:t._e(),"page"===t.eventParams.event?[i("el-select",{attrs:{width:"296px",placeholder:"请选择需要跳转的页面"},model:{value:t.eventParams.page,callback:function(e){t.$set(t.eventParams,"page",e)},expression:"eventParams.page"}},t._l(t.pageOptions.list,(function(t){return i("el-option",{attrs:{value:t.value,label:t.label}})})),1)]:t._e(),"textPop"===t.eventParams.event?[i("el-input",{attrs:{width:"296px",maxlength:"10",placeholder:"请输入弹屏标题"},model:{value:t.eventParams.textPopTitle,callback:function(e){t.$set(t.eventParams,"textPopTitle",e)},expression:"eventParams.textPopTitle"}}),i("vue-editor",{staticClass:"mt-10",attrs:{toolBar:t.customToolbar,id:"pushcontainer"},model:{value:t.eventParams.textPopContent,callback:function(e){t.$set(t.eventParams,"textPopContent",e)},expression:"eventParams.textPopContent"}})]:t._e(),"imgPop"===t.eventParams.event?[i("upload-img",{attrs:{limitSize:"100",height:"104px",width:"104px"},model:{value:t.eventParams.imgUrl,callback:function(e){t.$set(t.eventParams,"imgUrl",e)},expression:"eventParams.imgUrl"}}),i("div",{staticClass:"cl-888 fs-12 mt12 lh12"},[t._v("图片大小不超过100kb")]),i("el-input",{staticClass:"mt20",attrs:{maxlength:"2000",width:"225px",placeholder:"请输入链接以http或https开头"},model:{value:t.eventParams.imgPopLink,callback:function(e){t.$set(t.eventParams,"imgPopLink",e)},expression:"eventParams.imgPopLink"}}),i("span",{staticClass:"c888 fz12 ml10"},[t._v(t._s(t.eventParams.imgPopLink.length||0)+"/2000")])]:t._e(),"service"===t.eventParams.event?[i("el-input",{attrs:{type:"number",width:"268px",placeholder:"请输入号码"},model:{value:t.eventParams.serviceNum,callback:function(e){t.$set(t.eventParams,"serviceNum",e)},expression:"eventParams.serviceNum"}}),i("tooltip",{staticClass:"ml10",attrs:{effect:"dark",content:"用户点击后，自动调起配置的电话号码"}})]:t._e(),"anchorPoint"===t.eventParams.event?[i("el-select",{attrs:{width:"296px",placeholder:"请选择锚点"},model:{value:t.eventParams.point,callback:function(e){t.$set(t.eventParams,"point",e)},expression:"eventParams.point"}},t._l(t.options.list,(function(t){return i("el-option",{attrs:{value:t.value,label:t.label}})})),1)]:t._e()],2)},Q=[],tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-tooltip",{attrs:{placement:"right",effect:"dark"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.content)+" ")]),i("i",{staticClass:"iconfont iconbiaotoujishuomingwenhao  fs-14 cl-888 cursor-point ml10"})])},et=[],it={name:"tooltip",props:["content"]},st=it,at=(0,r.Z)(st,tt,et,!1,null,"2d64c454",null),ot=at.exports;const{customToolbar:nt}=g["default"];var lt={name:"eventItem",inject:["options","pageOptions"],components:{uploadImg:K["default"],tooltip:ot},data(){return{eventParams:this.value,customToolbar:nt}},props:{value:{require:!0,type:Object,default:function(){return{}}}},methods:{},mounted(){},watch:{eventParams(t,e){this.$emit("input",this.eventParams)},value(t,e){this.eventParams=t}}},rt=lt,ct=(0,r.Z)(rt,X,Q,!1,null,"5b3fe064",null),dt=ct.exports,mt={name:"event",components:{uploadImg:K["default"],eventItem:dt},data(){return{eventParams:this.value,eventOptions:[{value:"",label:"无"},{value:"link",label:"链接"},{value:"page",label:"营销宣传页"},{value:"textPop",label:"文字弹屏"},{value:"imgPop",label:"图片弹屏"},{value:"service",label:"客服"},{value:"anchorPoint",label:"锚点"}],conditionOptions:[{value:"",label:"无"}]}},props:{title:{require:!0,type:String,default:"普通事件"},compTitle:{require:!0,type:String,default:""},value:{require:!0,type:Object,default:function(){return{}}},activityId:{require:!0,type:String,default:""}},created(){},methods:{},mounted(){},watch:{eventParams(t,e){this.$emit("input",this.eventParams)},value(t,e){this.eventParams=t}}},pt=mt,ht=(0,r.Z)(pt,Y,G,!1,null,"8402d102",null),ut=ht.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{ref:"setPage",attrs:{"label-width":"120px",model:t.editItem}},[i("div",{staticClass:"pb20"},[i("span",{staticClass:"set-comp-title"},[t._v("页面")])]),i("el-form-item",{attrs:{label:"页面标题"}},[i("el-input",{attrs:{width:"210px",maxlength:"8",placeholder:"请输入至少两个字符"},on:{change:function(e){return t.checkPageTitle(e)}},model:{value:t.editItem.pageTitle,callback:function(e){t.$set(t.editItem,"pageTitle",e)},expression:"editItem.pageTitle"}})],1),i("el-form-item",{attrs:{label:"背景设置"}},[i("background-set",{model:{value:t.editItem,callback:function(e){t.editItem=e},expression:"editItem"}})],1)],1)],1)},ft=[],bt={name:"setPage",components:{backgroundSet:J},data(){return{editItem:this.value}},props:{value:{require:!0,type:Object,default:function(){return{}}}},methods:{checkPageTitle(t){return t?t.length<2?(this.$message.error("页面标题至少两个字符"),!1):!(t.length>10)||(this.$message.error("页面标题最多10个字符"),!1):(this.$message.error("页面标题不能为空"),!1)}}},vt=bt,yt=(0,r.Z)(vt,gt,ft,!1,null,"35287e44",null),xt=yt.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("el-form",{ref:"setImg",attrs:{"label-width":"120px",model:t.editItem}},[i("el-form-item",{attrs:{label:"图片"}},[i("div",{staticClass:"upload-img"},[i("upload-img",{attrs:{limitSize:"100",height:"104px",width:"104px"},model:{value:t.editItem.src,callback:function(e){t.$set(t.editItem,"src",e)},expression:"editItem.src"}}),i("div",{staticClass:"cl-888 fs-12 lh12 mt12"},[t._v("图片大小不超过100kb")])],1)])],1)],1)},wt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pb14"},[i("span",{staticClass:"set-comp-title"},[t._v("图片")])])}],Ct={name:"setImg",components:{uploadImg:K["default"]},data(){return{editItem:this.value}},props:{value:{require:!0,type:Object,default:function(){return{}}}}},kt=Ct,St=(0,r.Z)(kt,It,wt,!1,null,"04d2f162",null),_t=St.exports,Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("el-form",{attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"内容"}},[i("el-input",{attrs:{width:"210px"},model:{value:t.editItem.text,callback:function(e){t.$set(t.editItem,"text",e)},expression:"editItem.text"}})],1),i("el-form-item",{attrs:{label:"文本样式"}},[i("color-picker",{model:{value:t.editItem.color,callback:function(e){t.$set(t.editItem,"color",e)},expression:"editItem.color"}}),i("el-select",{staticClass:"ml10",attrs:{width:"100px"},model:{value:t.editItem.fontSize,callback:function(e){t.$set(t.editItem,"fontSize",e)},expression:"editItem.fontSize"}},t._l(t.fontSizeOptions,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),i("el-form-item",{attrs:{label:"背景设置"}},[i("background-set",{model:{value:t.editItem,callback:function(e){t.editItem=e},expression:"editItem"}})],1)],1)],1)},Pt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pb14"},[i("span",{staticClass:"set-comp-title"},[t._v("文本")])])}],Lt=i(5034),$t={name:"setText",components:{backgroundSet:J,colorPicker:Lt["default"]},data(){return{editItem:this.value,fontSizeOptions:g["default"].fontSizeOptions}},props:{value:{require:!0,type:Object,default:function(){return{}}}}},zt=$t,Ft=(0,r.Z)(zt,Tt,Pt,!1,null,"7aac7356",null),Ot=Ft.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{ref:"setBtn",attrs:{"label-width":"120px",model:t.editItem}},[i("div",{staticClass:"pb20"},[i("span",{staticClass:"set-comp-title"},[t._v("按钮")])]),i("el-form-item",{attrs:{label:"按钮类型"}},[i("el-radio",{attrs:{label:"1"},model:{value:t.editItem.btnType,callback:function(e){t.$set(t.editItem,"btnType",e)},expression:"editItem.btnType"}},[t._v("常规")]),i("el-radio",{attrs:{label:"2"},model:{value:t.editItem.btnType,callback:function(e){t.$set(t.editItem,"btnType",e)},expression:"editItem.btnType"}},[t._v("文字")]),i("el-radio",{attrs:{label:"3"},model:{value:t.editItem.btnType,callback:function(e){t.$set(t.editItem,"btnType",e)},expression:"editItem.btnType"}},[t._v("图片")])],1),"1"===t.editItem.btnType||"2"===t.editItem.btnType?i("div",[i("el-form-item",{attrs:{label:"按钮文案"}},[i("el-input",{attrs:{width:"210px"},model:{value:t.editItem.text,callback:function(e){t.$set(t.editItem,"text",e)},expression:"editItem.text"}})],1),i("el-form-item",{attrs:{label:"文案样式"}},[i("color-picker",{model:{value:t.editItem.color,callback:function(e){t.$set(t.editItem,"color",e)},expression:"editItem.color"}}),i("el-select",{staticClass:"ml10",attrs:{width:"100px"},model:{value:t.editItem.fontSize,callback:function(e){t.$set(t.editItem,"fontSize",e)},expression:"editItem.fontSize"}},t._l(t.fontSizeOptions,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1):t._e(),"1"===t.editItem.btnType?i("div",[i("el-form-item",{attrs:{label:"按钮颜色"}},[i("color-picker",{model:{value:t.editItem.bgColor,callback:function(e){t.$set(t.editItem,"bgColor",e)},expression:"editItem.bgColor"}})],1),i("el-form-item",{attrs:{label:"圆角半径"}},[i("el-input",{attrs:{width:"210px"},model:{value:t.editItem.radius,callback:function(e){t.$set(t.editItem,"radius",e)},expression:"editItem.radius"}})],1)],1):t._e(),"3"===t.editItem.btnType?i("div",[i("el-form-item",{attrs:{label:""}},[i("div",[i("upload-img",{attrs:{limitSize:"100",height:"104px",width:"104px"},model:{value:t.editItem.bgImg,callback:function(e){t.$set(t.editItem,"bgImg",e)},expression:"editItem.bgImg"}}),i("div",{staticClass:"cl-888 fs-12 lh12 mt12"},[t._v("图片大小不超过100kb")])],1)])],1):t._e()],1)],1)},Bt=[],Rt={name:"setBtn",components:{colorPicker:Lt["default"],backgroundSet:J,uploadImg:K["default"]},data(){return{editItem:this.value,fontSizeOptions:g["default"].fontSizeOptions}},created(){},props:{value:{require:!0,type:Object,default:function(){return{}}}}},Et=Rt,At=(0,r.Z)(Et,Nt,Bt,!1,null,"602c7044",null),Vt=At.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("set-btn",{key:t.editItem.id,model:{value:t.editItem,callback:function(e){t.editItem=e},expression:"editItem"}})},jt=[],Mt={name:"setBottomBtn",components:{setBtn:Vt},data(){return{editItem:this.value}},props:{value:{require:!0,type:Object,default:function(){return{}}}}},qt=Mt,Zt=(0,r.Z)(qt,Dt,jt,!1,null,"d8e0ed52",null),Ut=Zt.exports,Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("el-form",{attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"锚点名称",prop:"name"}},[i("el-input",{attrs:{maxlength:"20",width:"210px"},model:{value:t.editItem.name,callback:function(e){t.$set(t.editItem,"name",e)},expression:"editItem.name"}})],1)],1)],1)},Wt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pb14"},[i("span",{staticClass:"set-comp-title"},[t._v("锚点")])])}],Jt={name:"setAnchorPoint",data(){return{editItem:this.value}},props:{value:{require:!0,type:Object,default:function(){return{}}}}},Yt=Jt,Gt=(0,r.Z)(Yt,Ht,Wt,!1,null,"e11af7b2",null),Kt=Gt.exports,Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("el-form",{attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"内容"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editItem.text,expression:"editItem.text"}],attrs:{type:"text"},domProps:{value:t.editItem.text},on:{input:function(e){e.target.composing||t.$set(t.editItem,"text",e.target.value)}}})]),i("el-form-item",{attrs:{label:"背景设置"}},[i("background-set",{model:{value:t.editItem,callback:function(e){t.editItem=e},expression:"editItem"}})],1)],1)],1)},Qt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pb14"},[i("span",{staticClass:"set-comp-title"},[t._v("富文本")])])}];const te={config:g["default"]};var ee={name:"setRichText",components:{backgroundSet:J},data(){return{editItem:this.value,customToolbar:te}},props:{value:{require:!0,type:Object,default:function(){return{}}}}},ie=ee,se=(0,r.Z)(ie,Xt,Qt,!1,null,"4b6467bf",null),ae=se.exports,oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fs-12 basic-setting"},[i("el-form",{ref:"basicForm",attrs:{"label-width":"120px",model:t.item}},[i("div",{staticClass:"set-comp-title-box",style:t.getSpecialStyle()},[i("span",{staticClass:"set-comp-title"},[t._v("大小")]),i("el-checkbox",{model:{value:t.item.lockAspectRatio,callback:function(e){t.$set(t.item,"lockAspectRatio",e)},expression:"item.lockAspectRatio"}},[t._v("锁定宽高比")])],1),i("el-form-item",{attrs:{label:"宽/高"}},[i("el-input",{attrs:{disabled:t.widthDisabled,type:"number",width:"100px"},nativeOn:{input:function(e){return t.widthChange.apply(null,arguments)}},model:{value:t.item.width,callback:function(e){t.$set(t.item,"width",t._n(e))},expression:"item.width"}},[i("template",{slot:"append"},[t._v("px")])],2),i("el-input",{staticClass:"ml10",attrs:{disabled:t.heightDisabled,type:"number",width:"100px"},nativeOn:{input:function(e){return t.heightChange.apply(null,arguments)}},model:{value:t.item.height,callback:function(e){t.$set(t.item,"height",t._n(e))},expression:"item.height"}},[i("template",{slot:"append"},[t._v("px")])],2)],1),t.showPosition?[i("div",{staticClass:"set-comp-title-box"},[i("span",{staticClass:"set-comp-title"},[t._v("位置")])]),i("el-form-item",{attrs:{label:"位置类型"}},[i("el-radio-group",{on:{change:t.positionTypeChange},model:{value:t.item.positionType,callback:function(e){t.$set(t.item,"positionType",e)},expression:"item.positionType"}},[i("el-radio",{attrs:{label:"1"}},[t._v("绝对位置")]),"4"!==t.item.type?i("el-radio",{attrs:{label:"2"}},[t._v("相对位置")]):t._e()],1)],1),"1"===t.item.positionType?[i("el-form-item",{attrs:{label:"X/Y"}},[i("el-input",{attrs:{type:"number",width:"100px"},model:{value:t.item.left,callback:function(e){t.$set(t.item,"left",t._n(e))},expression:"item.left"}},[i("template",{slot:"append"},[t._v("px")])],2),i("el-input",{staticClass:"ml10",attrs:{disabled:t.yDisabled,type:"number",width:"100px"},model:{value:t.item.top,callback:function(e){t.$set(t.item,"top",t._n(e))},expression:"item.top"}},[i("template",{slot:"append"},[t._v("px")])],2)],1)]:[i("el-form-item",{attrs:{label:"组件间距"}},[i("el-input",{attrs:{type:"number",width:"210px"},on:{input:t.rTopChange},model:{value:t.rTop,callback:function(e){t.rTop=t._n(e)},expression:"rTop"}},[i("template",{slot:"append"},[t._v("px")])],2)],1)]]:t._e(),i("div",{staticClass:"set-comp-title-box"},[i("span",{staticClass:"set-comp-title"},[t._v("布局/层级")])]),i("el-form-item",{attrs:{label:"布局"}},t._l(t.layoutTypeList,(function(e,s){return i("el-button",{staticClass:"c888 iconfont",class:[s>0?"ml20":"",e.icon],staticStyle:{height:"36px","line-height":"36px"},attrs:{type:"text"},nativeOn:{click:function(i){return t.layoutTypeChange(e.type)}}})})),1),i("el-form-item",{attrs:{label:"层级"}},t._l(t.zIndexTypeList,(function(e,s){return i("el-button",{staticClass:"c888 iconfont",class:[s>0?"ml20":"",e.icon],staticStyle:{height:"36px","line-height":"36px"},attrs:{type:"text"},nativeOn:{click:function(i){return t.zIndexTypeChange(e.type)}}})})),1)],2)],1)},ne=[],le={name:"basicSettings",data(){return{item:this.value,rTop:0,layoutTypeListSource:[{type:"1",icon:"icona-huabanbeifen9",content:"左右居中"},{type:"2",icon:"icona-huabanbeifen10",content:"贴左边"},{type:"3",icon:"icona-huabanbeifen8",content:"贴右边"},{type:"4",icon:"iconhuaban1",content:"贴顶"}],zIndexTypeList:[{type:"1",icon:"icona-huabanbeifen14",content:"置于顶层"},{type:"2",icon:"icona-huabanbeifen13",content:"置于底层"},{type:"3",icon:"icona-huabanbeifen12",content:"上移一层"},{type:"4",icon:"icona-huabanbeifen11",content:"下移一层"}]}},props:{value:{require:!0,type:Object,default:function(){return{}}}},created(){this.ratio=Number((this.item.width/this.item.height).toFixed(2))},computed:{showPosition(){return"0"!==this.item.type},layoutTypeList(){return"4"===this.item.type?this.layoutTypeListSource.slice(0,3):this.layoutTypeListSource},widthDisabled(){return"17"===this.item.type},heightDisabled(){return"17"===this.item.type},yDisabled(){return"4"===this.item.type}},methods:{zIndexTypeChange(t){this.$emit("zIndexTypeChange",t)},getSpecialStyle(){if("15"===this.item.type)return{border:"none",paddingTop:0}},layoutTypeChange(t){this.$emit("layoutTypeChange",t)},positionTypeChange(t){this.$emit("positionTypeChange",t)},rTopChange(t){this.item.top=this.item.top+(Number(t)-this.item.rTop),this.item.rTop=Number(t)},widthChange(){this.item.lockAspectRatio&&(this.item.height=Number((this.item.width/this.ratio).toFixed(0)))},heightChange(){this.item.lockAspectRatio&&(this.item.width=Number((this.item.height*this.ratio).toFixed(0)))}},watch:{item:{deep:!0,handler(t){this.rTop=t.rTop,this.$emit("input",this.item)}}}},re=le,ce=(0,r.Z)(re,oe,ne,!1,null,"7819f705",null),de=ce.exports;const{pageWidth:me}=g["default"];var pe={name:"right",components:{event:ut,backgroundSet:J,setPage:xt,setImg:_t,setText:Ot,setBtn:Vt,setBottomBtn:Ut,setAnchorPoint:Kt,setRichText:ae,basicSettings:de},inject:["app"],data(){return{activeIndex:"1"}},props:{editItem:{require:!0,default:void 0},activityId:{type:String,require:!0,default:""}},computed:{componentSetName(){return this.editItem?g["default"].componentSetNameMap[this.editItem.type]:""},tabbarColor(){return this.editItem&&!this.editItem.click?"#999":"#333"}},created(){},update(){},mounted(){},methods:{handleNavSelect(t){this.editItem&&!this.editItem.click||(this.activeIndex=t)},layoutTypeChange(t){"1"===t?this.editItem.left=(me-this.editItem.width)/2:"2"===t?this.editItem.left=0:"3"===t?this.editItem.left=me-this.editItem.width:"4"===t&&(this.editItem.top=0)},zIndexTypeChange(t){let e="4"===this.editItem.type?this.app.bottomBtnList:this.app.dragAbleList,i=[...e];i.sort(((t,e)=>t.zIndex-e.zIndex));let s=i[0],a=i[i.length-1],o=i.findIndex((t=>t.id===this.editItem.id)),n=i[o],l=i[o+1],r=i[o-1];if("1"===t)n.zIndex=a.zIndex+1;else if("2"===t){for(let t=0;t<o;t++)i[t].zIndex+=1;n.zIndex=s.zIndex-1}else if("3"===t){if(l){let t=n.zIndex;n.zIndex=l.zIndex,l.zIndex=t}}else if("4"===t&&r){let t=n.zIndex;n.zIndex=r.zIndex,r.zIndex=t}}}},he=pe,ue=(0,r.Z)(he,V,D,!1,null,"205455b8",null),ge=ue.exports,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pos-relative shape-box",style:t.getBoxStyle},[t.compStyle.moving?[i("div",{staticClass:"auxiliary-line auxiliary-line-left",style:t.getStyle("left")},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.getStyle("left").num>0,expression:"getStyle('left').num > 0"}],staticClass:"auxiliary-num auxiliary-num-left"},[t._v(" "+t._s(t.getStyle("left").num)+" ")])]),"4"!==t.compStyle.type?[i("div",{staticClass:"auxiliary-line auxiliary-line-top",style:t.getStyle("top")},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.getStyle("top").num>0,expression:"getStyle('top').num > 0"}],staticClass:"auxiliary-num auxiliary-num-top"},[t._v(" "+t._s(t.getStyle("top").num)+" ")])])]:t._e(),i("div",{staticClass:"auxiliary-line auxiliary-line-right",style:t.getStyle("right")},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.getStyle("right").num>0,expression:"getStyle('right').num > 0"}],staticClass:"auxiliary-num auxiliary-num-right"},[t._v(" "+t._s(t.getStyle("right").num)+" ")])]),i("div",{staticClass:"auxiliary-line auxiliary-line-bottom",style:t.getStyle("bottom")},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.getStyle("bottom").num>0,expression:"getStyle('bottom').num > 0"}],staticClass:"auxiliary-num auxiliary-num-bottom"},[t._v(" "+t._s(Number(t.getStyle("bottom").num)||"")+" ")])])]:t._e(),t.compStyle.selected?i("section",[i("div",{staticClass:"select-box top-left"}),i("div",{staticClass:"select-box top-center"}),i("div",{staticClass:"select-box top-right"}),i("div",{staticClass:"select-box left-center"}),i("div",{staticClass:"select-box right-center"}),i("div",{staticClass:"select-box bottom-left"}),i("div",{staticClass:"select-box bottom-center"}),i("div",{staticClass:"select-box bottom-right"})]):t._e(),"4"!==t.compStyle.type?i("div",{staticClass:"boundary-line boundary-line-top",style:t.getAdsorptionLineStyleTop}):t._e(),i("div",{staticClass:"boundary-line boundary-line-left",style:t.getAdsorptionLineStyleLeft}),i("div",{staticClass:"boundary-line boundary-line-right",style:t.getAdsorptionLineStyleRight}),i("div",{staticClass:"boundary-line boundary-line-bottom",style:t.getAdsorptionLineStyleBottom}),t._t("default")],2)},be=[],ve={name:"index",data(){return{}},props:{compStyle:{type:Object,default:function(){return{}}}},created(){},mounted(){},computed:{getBoxStyle(){let t={width:this.compStyle.width+"px",height:this.compStyle.height+"px",left:this.compStyle.left+"px",zIndex:this.compStyle.zIndex,border:this.compStyle.selected?"1px solid #006eff":"none"};return"4"!==this.compStyle.type&&(t.top=this.compStyle.top+"px"),t},getAdsorptionLineStyleLeft(){if(0===Number(this.compStyle.rLeft)&&this.compStyle.moving)return{height:this.getNum(this.compStyle.height)+50+"px",width:"1px","border-left":"1px dashed red",display:"block"}},getAdsorptionLineStyleRight(){if(0===Number(this.compStyle.rRight)&&this.compStyle.moving)return{height:this.getNum(this.compStyle.height)+50+"px",width:"1px","border-left":"1px dashed red",display:"block"}},getAdsorptionLineStyleTop(){if(0===Number(this.compStyle.rTop)&&this.compStyle.moving)return{width:this.getNum(this.compStyle.width)+50+"px",height:"1px","border-top":"1px dashed red",display:"block"}},getAdsorptionLineStyleBottom(){if(0===Number(this.compStyle.rBottom)&&this.compStyle.moving)return{width:this.getNum(this.compStyle.width)+50+"px",height:"1px","border-top":"1px dashed red",display:"block"}}},methods:{getNum(t){return t||0},getStyle(t){let e;switch(t){case"left":e={width:this.compStyle.rLeft+"px",left:-this.compStyle.rLeft+"px",top:(this.getNum(this.compStyle.height)/2).toFixed(0)+"px",num:Number(this.compStyle.rLeft).toFixed(0)};break;case"top":e={height:this.compStyle.rTop+"px",left:(this.getNum(this.compStyle.width)/2).toFixed(0)+"px",top:-this.compStyle.rTop+"px",num:Number(this.compStyle.rTop).toFixed(0)};break;case"right":let t=this.compStyle.rRight;e={width:t+"px",right:-t+"px",top:(this.getNum(this.compStyle.height)/2).toFixed(0)+"px",num:Number(t).toFixed(0)};break;case"bottom":let i=this.compStyle.rBottom;e=-1===i?{height:0,num:0}:{height:i+"px",left:(this.getNum(this.compStyle.width)/2).toFixed(0)+"px",bottom:-i+"px",num:Number(i).toFixed(0)};break}return e},getSelectStyle(t){let e;switch(t){case"left":case"right":e={height:this.compStyle.height+"px"};break;case"top":case"bottom":e={width:this.compStyle.width+"px"};break}return e}}},ye=ve,xe=(0,r.Z)(ye,fe,be,!1,null,"16da981e",null),Ie=xe.exports,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-center-center",staticStyle:{width:"100%",height:"100%","background-color":"#F5F5F5"}},[t.item.src?[i("img",{staticStyle:{"vertical-align":"top",width:"100%",height:"100%"},attrs:{src:t.item.src,alt:""}})]:[i("span",{staticClass:"iconhuaban3 iconfont fz16 cl-006EFF"})]],2)},Ce=[],ke={name:"cImg",props:{item:{require:!0,type:Object,default:function(){return{}}}}},Se=ke,_e=(0,r.Z)(Se,we,Ce,!1,null,"9c3710f2",null),Te=_e.exports,Pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"background-cover",staticStyle:{width:"100%",height:"100%"},style:t.getTextStyle()},[t.item.bgImg||"bgImg"!==t.item.bgType?t._e():[t._m(0)],[t._v(" "+t._s(t.item.text)+" ")]],2)},Le=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-bg-default rich-text-default"},[i("span",{staticClass:"iconhuaban3 iconfont fz16 cl-006EFF"})])}],$e={name:"cText",mixins:[I],methods:{getTextStyle(){let t={fontSize:this.item.fontSize+"px",color:this.item.color};return"bgColor"===this.item.bgType?t.backgroundColor=this.item.bgColor:t.backgroundImage=this.getBgImg(this.item.bgImg),t}}},ze=$e,Fe=(0,r.Z)(ze,Pe,Le,!1,null,"7b83e5ec",null),Oe=Fe.exports,Ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"background-cover custom-button",style:t.getBtnStyle(t.item)},[t.item.bgImg||"3"!==t.item.btnType?[t._v(" "+t._s(t.btnText)+" ")]:[t._m(0)]],2)},Be=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-bg-default"},[i("span",{staticClass:"iconhuaban3 iconfont fz16 cl-006EFF"})])}],Re={name:"cBtn",mixins:[I],computed:{btnText(){return"3"!==this.item.btnType?this.item.text:""}}},Ee=Re,Ae=(0,r.Z)(Ee,Ne,Be,!1,null,"7d17cc66",null),Ve=Ae.exports,De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pd-10 textCenter",attrs:{id:t.item.id}},[t._v(t._s(t.item.name))])},je=[],Me={name:"cAnchorPoint",mixins:[I]},qe=Me,Ze=(0,r.Z)(qe,De,je,!1,null,"142ce93c",null),Ue=Ze.exports,He=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"background-cover custom-button",style:t.getBottomBtnStyle(t.item)},[t.item.bgImg||"3"!==t.item.btnType?[t._v(" "+t._s(t.btnText)+" ")]:[t._m(0)]],2)},We=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-bg-default"},[i("span",{staticClass:"iconhuaban3 iconfont fz16 cl-006EFF"})])}],Je={name:"cBottomBtn",mixins:[I],data(){return{}},computed:{btnText(){return"3"!==this.item.btnType?this.item.text:""}},methods:{getBottomBtnStyle(t){let e={height:t.height+"px",width:t.width+"px",left:t.left+"px"},i={fontSize:t.fontSize+"px",color:t.color},s={backgroundColor:t.bgColor,borderRadius:t.radius+"px"},a={backgroundImage:this.getBgImg(t.bgImg)};return"1"===t.btnType?{...e,...i,...s}:"2"===t.btnType?{...e,...i}:"3"===t.btnType?{...e,...a}:void 0}}},Ye=Je,Ge=(0,r.Z)(Ye,He,We,!1,null,"5f1c3f4e",null),Ke=Ge.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"custom-button",staticStyle:{"background-color":"transparent",width:"100%",height:"100%",border:"2px dashed #ddd"}},[t._v(" 透明按钮 ")])},Qe=[],ti={name:"cTransparentBtn",props:{item:{require:!0,type:Object,default:function(){return{}}}},methods:{}},ei=ti,ii=(0,r.Z)(ei,Xe,Qe,!1,null,"48430376",null),si=ii.exports,ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"background-cover",staticStyle:{width:"100%",height:"100%"},style:t.getRichTextStyle()},[t.item.bgImg||"bgImg"!==t.item.bgType?t._e():[t._m(0)],i("div",{domProps:{innerHTML:t._s(t.item.text)}})],2)},oi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-bg-default rich-text-default"},[i("span",{staticClass:"iconhuaban3 iconfont fz16 cl-006EFF"})])}],ni={name:"cRichText",mixins:[I],methods:{getRichTextStyle(){let t={};return"bgColor"===this.item.bgType?t.backgroundColor=this.item.bgColor:t.backgroundImage=this.getBgImg(this.item.bgImg),t}}},li=ni,ri=(0,r.Z)(li,ai,oi,!1,null,"18a94c03",null),ci=ri.exports,di={name:"Home",components:{left:A,right:ge,shape:Ie,cImg:Te,cText:Oe,cBtn:Ve,cAnchorPoint:Ue,cBottomBtn:Ke,cTransparentBtn:si,cRichText:ci},provide(){return{options:this.pointOptions,pageOptions:this.pageOptions,app:this}},mixins:[I,F],data(){return{stepData:["填写基本信息","编辑页面"],activeStep:2,form:{leafletName:"",remarks:"",link:""},formRules:{leafletName:[{required:!0,message:"请输入页面（组）名称",trigger:"blur"}]},pageViewList:JSON.parse(JSON.stringify(g["default"].defaultPageViewList)),copyPageViewList:JSON.stringify(g["default"].defaultPageViewList),history:new u(1e4),editItem:null,unOrReDo:!1,pointOptions:{list:[]},pageOptions:{list:[]},saveLoading:!1,previewLoading:!1,previewVisible:!1,goBackPop:!1,next:null,scrollHeight:0,changed:!1,currentComp:null,leafletId:""}},computed:{showDelete(){return!!this.editItem&&("0"!==this.editItem.type||this.pageViewList.length>1)},activePageView(){return this.pageViewList.find((t=>t.active))},dragAbleList(){return this.pageViewList.find((t=>t.active)).list.filter((t=>"4"!==t.type&&"0"!==t.type))},bottomBtnList(){return this.pageViewList.find((t=>t.active)).list.filter((t=>"4"===t.type))},getPositionStyle(){return{top:this.editItem.top+64-106-this.scrollHeight+"px",left:this.editItem.left-76+"px"}},pageStyle(){let t=this.activePageView.list[0];return"bgColor"===t.bgType?{backgroundColor:t.bgColor}:{backgroundImage:this.getBgImg(t.bgImg)}},pageTitleStyle(){return this.activePageView.list[0].selected?"comp-active":""}},created(){this.leafletId=this.$route.query.leafletId,this.editOrAddtype=this.$route.query.type},mounted(){this.initInteract(),this.initBottomInteract(),this.handleScroll=()=>{this.scrollHeight=document.querySelector(".scroll-box").scrollTop},window.addEventListener("scroll",this.handleScroll,!0),document.onkeydown=t=>{"Delete"===t.code&&this.showDelete?this.deleteItem():this.handelKeyDown(t.code,t)}},methods:{nextStep(){this.$refs.infoForm.validate((t=>{t&&(this.activeStep=2)}))},getComponentName(t){return"4"===t.type?"":g["default"].componentCNameMap[t.type]},checkPageTitle(t){return t?t.length<2?(this.$message.error("页面标题至少两个字符"),!1):!(t.length>10)||(this.$message.error("页面标题最多10个字符"),!1):(this.$message.error("页面标题不能为空"),!1)},getCurrentMaxZIndex(t){let e="4"===t?this.activePageView.list:this.dragAbleList,i=[...e];return"4"===t?i=i.slice(1):this.bottomBtnList.forEach((t=>t.zIndex+=1)),i.sort(((t,e)=>t.zIndex-e.zIndex)),i[i.length-1].zIndex},handleDrag(t){this.dragType=t},drop(t){this.handleAddComp(t)},handleAddComp(t,e){let i=document.getElementById("dropBox").getBoundingClientRect(),s=g["default"].getComponent(this.dragType);3!==this.bottomBtnList.length||"4"!==s.type?(s.top=parseInt((t.clientY-i.y).toString()),s.left=(g["default"].pageWidth-s.width)/2,null!==e&&void 0!==e?this.activePageView.list.splice(e,0,s):this.activePageView.list.push(s),s.zIndex=this.getCurrentMaxZIndex(s.type)+1):this.$message.error("最多添加3个底部悬浮按钮")},intRecord(){this.history.record(this.stringifyData(this.pageViewList))},execute(t){if("undo"===t&&!this.history.canUndo||"redo"===t&&!this.history.canRedo)return;this.unOrReDo=!0;let e=null;switch(t){case"undo":e=this.history.undo();break;case"redo":e=this.history.redo();break;case"clear":this.history.clear();break}this.pageViewList=e?JSON.parse(e):JSON.parse(this.copyPageViewList),setTimeout((()=>{this.unOrReDo=!1}),100)},deleteItem(){this.editItem&&0!==Object.keys(this.editItem).length&&("0"===this.editItem.type?this.pageViewList.length>1&&(this.pageViewList=this.pageViewList.filter((t=>!t.active)),this.pageViewList[0].active=!0):this.activePageView.list=this.activePageView.list.filter((t=>t.id!==this.editItem.id)))},selectComp(t){this.source="4"===t.type?this.bottomBtnList:this.dragAbleList,this.pageViewList.forEach((t=>{t.list.forEach((t=>t.selected=!1))})),t.selected=!0,this.$refs.compRight.activeIndex="1",this.$nextTick((()=>{this.getRelativePosition()}))},addPageView(){let t=this.pageViewList.length;t>=5?this.$message.error("最多添加5个页面"):(this.pageViewList.forEach((t=>{t.active=!1})),this.pageViewList.push({active:!0,id:g["default"].getUuid(),list:[{id:g["default"].getUuid(),type:"0",selected:!1,title:"页面",pageTitle:"页面"+(t+1),bgType:"bgColor",bgColor:"",bgImg:""}]}))},selectPageView(t){this.pageViewList.forEach(((e,i)=>{e.active=i===t})),document.querySelector(".scroll-box").scrollTo(0,0)},closeGoBackPop(){this.goBackPop=!1,this.next(!1)},formValidate(){let t=this.pageViewList,e=!0;for(let i=0;i<t.length;i++){let s=t[i];if(e=this.checkPageTitle(s.list[0].pageTitle),!e)break}return e},clearSelectComp(t){return t=JSON.parse(JSON.stringify(t)),t.forEach((t=>{t.list.forEach((t=>t.selected=!1))})),t},preview(){this.save("edit"===this.editOrAddtype?"":1)},save(t){if(!this.formValidate())return;let e=this.clearSelectComp(this.pageViewList);console.log(e)}},watch:{pageViewList:{deep:!0,handler(t,e){let i=this.clearSelectComp(this.pageViewList);this.changed=this.copyPageViewList!==JSON.stringify(i),this.editItem=this.activePageView.list.find((t=>t.selected)),this.unOrReDo||this.intRecord(),this.pointOptions.list=this.activePageView.list.reduce(((t,e)=>("锚点"===e.title&&t.push({label:e.name,value:e.id}),t)),[]),this.pageOptions.list=this.pageViewList.reduce(((t,e)=>(e.id!==this.activePageView.id&&t.push({label:e.list[0].pageTitle,value:e.id}),t)),[])}}},destroyed(){window.removeEventListener("scroll",this.handleScroll,!0)},beforeRouteLeave(t,e,i){this.changed&&"/login"!==t.path?(this.next=i,this.goBackPop=!0):i()}},mi=di,pi=(0,r.Z)(mi,p,h,!1,null,"807f7f0c",null),hi=pi.exports;s["default"].use(m.Z);var ui=new m.Z({mode:"history",scrollBehavior(t,e,i){return i||{x:0,y:0}},routes:[{path:"/",name:"home",component:hi}]}),gi=i(5801),fi=i.n(gi);s["default"].use(fi()),s["default"].config.productionTip=!1,new s["default"]({router:ui,render:t=>t(d)}).$mount("#app")},5034:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.uploadId,staticClass:"pos-relative bgfff common-color-picker",staticStyle:{height:"36px",width:"100px",display:"inline-block"}},[i("el-color-picker",{staticStyle:{opacity:"0",position:"absolute","z-index":"10",height:"36px",width:"100%"},attrs:{predefine:t.predefineColors},on:{change:t.change},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),i("div",{staticClass:"c-flex color-picker flex-space-between align-items-center"},[i("span",{staticClass:"c333 fz14"},[t._v(t._s(t.color))]),i("span",{staticClass:"color-picker-select",style:{backgroundColor:t.color}})])],1)},a=[],o=i(4291),n={name:"colorPicker",data(){return{uploadId:o["default"].getUuid(),color:this.value,predefineColors:["#AAAAAA","#777777","#333333","#FF5C5C","#FFBC4A","#FEF952","#99E265","#38B72A","#44D9E5","#2FB2FF","#5371FF","#B85FE7","#FF64B0","#FFFFFF","#F8F8F8"]}},props:{value:{require:!1,type:String,default:""}},methods:{change(){let t=this.color?this.color:"";this.$emit("change",t),this.$emit("input",t)}},mounted(){},watch:{value(t,e){this.color=t}}},l=n,r=i(5710),c=(0,r.Z)(l,s,a,!1,null,"cbedac7a",null),d=c.exports},379:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"inline-block",background:"#F5F5F5",border:"1px solid #ddd"}},[i("div",{staticClass:"flex-center-center pos-relative upload-img-label",style:{height:t.height,width:t.width}},[i("input",{ref:"uploadImg",staticStyle:{display:"none"},attrs:{type:"file",id:"uploadImg_"+t.uploadId,name:"image",accept:"image/*"},on:{input:t.uploadImgTest}}),i("label",{attrs:{for:"uploadImg_"+t.uploadId}},[t.imgSrc?i("img",{staticClass:"block",style:t.getImgStyle,attrs:{src:t.imgSrc,alt:""}}):i("div",[t._t("default",(function(){return[t._m(0)]}))],2)]),t.showMask?i("div",{staticClass:"upload-img-mask-father"},[i("div",{staticClass:"upload-img-mask"},[i("label",{staticClass:"pd5 cursor-point",attrs:{for:"uploadImg_"+t.uploadId}},[t._v("修改")]),i("span",{staticClass:"pd5 cursor-point",on:{click:t.restore}},[t._v("还原")])])]):t._e()])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"center"},[i("i",{staticClass:"tzt-icon-plus c999 fs-30"}),i("div",{staticClass:"c999"},[t._v("上传图片")]),t._v("uploadImg ")])}],o=i(4291),n={name:"uploadImg",data(){return{uploadId:o["default"].getUuid(),imgSrc:this.value,copyImgSrc:this.value,imgWidth:0,imgHeight:0}},props:{width:{require:!0,type:String,default:"104px"},height:{require:!0,type:String,default:"104px"},value:{require:!1,type:String,default:""},type:{require:!1,type:String,default:"single"},fill:{require:!1,type:String,default:"cover"},showMask:{require:!1,type:Boolean,default:!1}},computed:{getImgStyle(){let t={};return t=this.imgWidth?this.imgWidth>=this.imgHeight?{width:this.width,height:"auto"}:{width:"auto",height:this.height}:"cover"===this.fill?{width:this.width,height:this.height}:"fillWidth"===this.fill?{width:this.width,height:"auto"}:{height:this.height,width:"auto"},t}},methods:{getRealWidthHeight(){if(!this.value)return;let t=this.value,e=new Image;e.src=t,e.onload=()=>{this.imgWidth=e.width,this.imgHeight=e.height}},uploadImgTest(t){const e=this,i={},s=t.target.files[0];if(!s)return;i.type=s.type||"image/jpeg",i.size=s.size,i.name=s.name,i.lastModifiedDate=s.lastModifiedDate;(s.size/1024).toFixed(2);const a=new FileReader;a.readAsDataURL(s),a.onload=t=>{const i=t.target.result,s=new Image;let a=0,o=0;s.onload=function(){if(a=s.width,o=s.height,e.imgWidth=a,e.imgHeight=o,"single"===e.type)e.imgSrc=i,e.$emit("change",i),e.$emit("input",i);else{let t={result:i,width:a,height:o};e.$emit("change",t)}e.$refs.uploadImg.value=""},s.src=i}},restore(){this.imgSrc=this.copyImgSrc,this.imgWidth=0,this.imgHeight=0,this.$emit("change",this.imgSrc),this.$emit("input",this.imgSrc)}},mounted(){this.getRealWidthHeight()},watch:{value(t,e){this.imgSrc=t}}},l=n,r=i(5710),c=(0,r.Z)(l,s,a,!1,null,"15885220",null),d=c.exports}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,o){if(!s){var n=1/0;for(d=0;d<t.length;d++){s=t[d][0],a=t[d][1],o=t[d][2];for(var l=!0,r=0;r<s.length;r++)(!1&o||n>=o)&&Object.keys(i.O).every((function(t){return i.O[t](s[r])}))?s.splice(r--,1):(l=!1,o<n&&(n=o));if(l){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[s,a,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,o,n=s[0],l=s[1],r=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(r)var d=r(i)}for(e&&e(s);c<n.length;c++)o=n[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(d)},s=self["webpackChunksmart_code"]=self["webpackChunksmart_code"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(3695)}));s=i.O(s)})();
//# sourceMappingURL=app.07763131.js.map